# 产品路线图 (Roadmap) - sing-box-web

## 1. 路线图概述

本路线图旨在为 `sing-box-web` 项目提供一个清晰、分阶段的开发计划。它将产品愿景分解为一系列可执行的版本，并明确每个版本的目标、核心功能和时间表，以指导开发团队的迭代工作和资源分配。

## 2. 版本规划策略

我们将采用敏捷迭代的开发策略，分阶段交付产品功能：
1.  **MVP (最小可行产品)**: 尽快交付产品的核心价值，验证市场需求。
2.  **v2.0 (核心增强版)**: 完善核心功能，提升大规模使用场景下的效率和易用性。
3.  **未来版本 (企业版)**: 增加高级功能，满足企业级用户的安全、审计和协作需求。

---

## 3. 详细版本规划

### **第一阶段: MVP - 核心功能实现**
- **主题**: "建立核心管理与监控能力"
- **目标**: 用户可以完成节点的注册、监控、以及核心的配置分发流程。
- **时间范围**: Q1
- **核心功能**:
    - **节点管理**:
        - `[P0]` Agent 自动注册与心跳机制
        - `[P0]` 实时节点列表展示（在线/离线状态）
        - `[P0]` 查看单个节点详情页
    - **监控**:
        - `[P0]` Agent 实时采集 CPU, 内存, 磁盘, 网络指标
        - `[P0]` 节点详情页展示实时监控数据图表
    - **配置管理**:
        - `[P0]` 创建、编辑、保存 `sing-box` 配置模板
        - `[P0]` 将配置模板分发到一个或多个节点
        - `[P0]` 查看配置分发的结果反馈

### **第二阶段: v2.0 - 易用性与效率提升**
- **主题**: "优化大规模管理体验"
- **目标**: 引入宏观视角和效率工具，让管理上百个节点变得轻松。
- **时间范围**: Q2
- **核心功能**:
    - **仪表盘 (Dashboard)**:
        - `[P1]` 全局核心指标统计（节点总数、在线率等）
        - `[P1]` 最近活动日志（如配置变更、节点上下线）
    - **节点管理**:
        - `[P1]` 为节点添加/管理标签
        - `[P1]` 根据名称、IP、标签进行搜索和筛选
    - **配置管理**:
        - `[P1]` 配置模板的版本历史记录
        - `[P2]` 对比不同配置版本间的差异
        - `[P2]` 将节点配置回滚到历史版本
    - **系统管理**:
        - `[P1]` 基础的用户注册与登录功能

### **第三阶段: 未来版本 - 企业级功能**
- **主题**: "安全、合规与协作"
- **目标**: 提供企业级用户所需的安全、审计和团队协作能力。
- **时间范围**: Q3 及以后
- **核心功能**:
    - **安全与权限**:
        - `[P2]` RBAC (基于角色的访问控制)
        - `[P2]` 与 SAML/LDAP 等身份提供商集成
    - **审计与告警**:
        - `[P2]` 关键操作的审计日志
        - `[P2]` 基于监控指标的告警规则与通知
    - **高级管理**:
        - `[P2]` 节点逻辑分组管理
        - `[P2]` 开放 API (RESTful) 供第三方集成

---

## 4. 功能优先级矩阵

| 优先级 | 定义 | 示例 |
| :--- | :--- | :--- |
| **P0 (Critical)** | **必须具备**: 缺少这些功能，产品无法满足最基本的用户需求。所有 MVP 功能。 | 节点注册, 配置分发, 实时监控 |
| **P1 (High)** | **强烈建议**: 极大地提升用户体验和核心价值，是产品竞争力的关键。 | 仪表盘, 节点搜索/标签, 配置版本化 |
| **P2 (Medium)** | **可以有**: 有价值的功能，但并非所有用户都需要，可在后续版本中考虑。 | RBAC, 审计日志, 告警通知, 配置回滚 |

---

## 5. 时间线计划 (里程碑)

```mermaid
gantt
    title sing-box-web 产品开发时间线
    dateFormat  YYYY-Q
    axisFormat  %Y-Q%q
    
    section MVP
    核心功能开发           :done,    des1, 2024-Q1, 2024-Q1
    内部测试与 Alpha 发布   :active,  des2, 2024-Q1, 2024-Q1
    
    section v2.0
    易用性与效率提升开发 :         des3, 2024-Q2, 2024-Q2
    Beta 公开测试         :         des4, 2024-Q2, 2024-Q2

    section 未来版本
    企业级功能探索与开发 :         des5, 2024-Q3, 2024-Q4
```

---

## 6. 资源规划 (初步建议)

- **开发团队**:
    - 后端工程师: 2名 (负责 API 和 Agent)
    - 前端工程师: 1名 (负责 Web UI)
- **测试团队**:
    - QA 工程师: 1名 (从 MVP 阶段后期介入)
- **运维**:
    - DevOps 工程师: 1名 (负责 CI/CD 和部署)

---

## 7. 风险管理

| 风险类别 | 风险描述 | 应对策略 |
| :--- | :--- | :--- |
| **技术风险** | Agent 在某些边缘操作系统上的兼容性和性能表现未知。 | 发布前在多种主流 OS 环境中进行充分测试；提供清晰的兼容性列表。 |
| **产品风险** | 社区对产品的接受度可能低于预期。 | 在 MVP 阶段积极与社区互动，收集反馈，快速迭代，解决核心痛点。 |
| **安全风险** | Agent 与 Manager 的通信链路可能成为攻击点。 | P0 级别强制实现端到端 TLS 加密和 Token 认证；代码进行安全审计。 |
| **依赖风险** | `sing-box` 本身的更新可能带来不兼容的变更。 | 密切关注 `sing-box` 的版本更新，建立回归测试用例集，确保核心功能不受影响。 | 